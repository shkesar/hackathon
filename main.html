<html>
    <head>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" charset="utf-8"></script>
    </head>
    <body>
        <script>
        var customers, invoices;
        var self = this;
        $.get("invoice.json", function( data ) {
            self.invoices = JSON.parse(data);
            $.get("customer.json", function( data ) {
                self.customers = JSON.parse(data);

                for (i = 0; i < customers.length; i++) {
                    var customer = self.customers[i];
                    var ba = customer['BillAddress'];
                    if(ba['Addr1']){
                        var addr1 = ba['Addr1'];
                    }
                    var pc = ba['PostalCode'];
                    var invoices = [];
                    for (j = 0; j < invoices.length; j++) {
                        var invoice = self.invoices[i];
                        var _ba = invoice['BillAddress'];
                        var _addr1 = _ba['Addr1'];
                        var _pc = _ba['PostalCode'];
                        if (addr1 == _addr1 && pc == _pc) {
                            invoices.push(invoice);
                        }
                    }
                    customer['invoices'] = invoices;
                }

                debugger
            });
        });
        </script>
    </body>
</html>
